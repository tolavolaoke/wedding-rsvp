<div ui-view="navbar"></div>

<!-- <div ng-init="guests.getSingleUser()"> -->
<div ng-controller = "GuestController as guest" ng-init="guest.getAll()">
    <div class="container">
      <h2 class="guestbook-title">Admin</h2>

<button type="button" name="button" class="btn btn-info btn-md" ng-click="isGuestListOpen = !isGuestListOpen">Guest List <span class="glyphicon glyphicon-resize-full"></span></button>
<button type="button" name="button" class="btn btn-info btn-md">Check List<span class="glyphicon glyphicon-resize-full"></span></button>
<button type="button" name="button" class="btn btn-info btn-md">Gallery<span class="glyphicon glyphicon-resize-full"></span></button>

      <table class="table table hover" ng-show="isGuestListOpen">
        <thead class="tableHead">
          <tr>
            <th>No.</th>
            <th>Name</th>
            <th>Contact</th>

            <th>Attending Events </th>
            <th>+ Guests</th>
            <th>Actions</th>
            <th></th>
          </tr>
        </thead>

        <tbody>
              <form  ng-init="guest.getGuest(guest.newField._id)" > {{guest.newField}}


          <tr ng-repeat="person in guest.guests track by $index">

            <td>{{ $index + 1 }} </td>


            <td ng-hide="editMode">{{ person.firstName}} {{ person.lastName}}</td>
            <td ng-show="editMode" ng-init="guest.getGuest(person._id)">
              <input
                type="text"
                ng-value="person.firstName"
                ng-modal="guest.updatedGuest.firstName"/>


              <input

                type="text"
                ng-value="person.lastName"/>
            </td>

            <td>
              <span class="glyphicon glyphicon-envelope"></span>
              <span class="glyphicon glyphicon-phone"></span>
            </td>

            <td ng-hide="editMode" class="admin-attending-events" >{{ person.attendingEvents}}</td>
            <td ng-show="editMode">
                <select >

                  <option
                    ng-repeat="event in guest.eventOptions"
                    ng-selected="event"
                    ng-value="event">{{ event }}
                  </option>
                </select>
            </td>


            <td ng-hide="editMode">{{ person.extraGuests}}</td>
            <td>
              <select ng-show="editMode">
                <option value="">0</option>
                <option
                  ng-repeat="option in guest.extraGuestsOptions"
                  ng-value="option ">{{ option }}
                </option>
              </select>
            </td>




            <td>
              <button type="submit" ng-hide="editMode" ng-click="editMode = true; guest.editGuest(person._id)" class="btn btn-default">
                <span class="glyphicon glyphicon-pencil"></span>
              </button>
            <button ng-show="editMode" type="submit" class="btn btn-success" ng-click="guest.updateGuest(person)" value="Update">Save {{guest.newField}}</button>
            <button ng-show="editMode" type="button" class="btn btn-danger"  ng-click="editMode = false">Undo</button>

               <button type="button" class="close" aria-label="Close" ng-hide="editMode" ng-click="guest.deleteGuest(person._id)">
                  <span aria-hidden="true">&times;</span>
              </button>
            </td>



          </tr>
            </form>
        </tbody>

      </table>
     </div>


</div>
     <!-- ________________guest modal________________ -->

      <!-- <div ng-if="guest.isEditFormVisible">

        <h1>Edit Guest</h1>

        <div>

        firstName
          <form ng-submit="guest.updateGuest(guest.selectedGuest._id)" ng-init="guest.getGuest(guest.selectedGuest._id)" >
            <input
              type="text"
              ng-value="guest.selectedGuest.firstName"
              ng-model="guest.selectedGuest.firstName"/>

        lastName
            <input
              type="text"
              ng-value="guest.selectedGuest.lastName"
              ng-model="guest.selectedGuest.lastName"/>

        attendingEvents
            <select ng-model="guest.selectedGuest.attendingEvents">
              <option
                ng-repeat="event in guest.eventOptions"
                ng-selected="event"
                ng-value="event">{{ event }}
              </option>
            </select>

        extraGuests
            <select
               ng-model="guest.selectedGuest.extraGuests">
              <option
                ng-repeat="option in guest.extraGuestsOptions"
                ng-value="option ">{{ option }}
              </option>
            </select>

            <div>
              <input type="submit" value="Update">
            </div>

          </form>
        </div>

      </div>

  </div> -->

<!-- </div> -->
